(()=>{var e={};e.id=93,e.ids=[93],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6656:(e,a,i)=>{"use strict";i.r(a),i.d(a,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>g,tree:()=>c}),i(7758),i(7565),i(8844),i(2154);var s=i(7080),t=i(9920),r=i(1559),l=i.n(r),o=i(9210),n={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>o[e]);i.d(a,n);let c=["",{children:["(app)",{children:["facilities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(i.bind(i,7758)),"/Users/user/regintel-v2/apps/web/src/app/(app)/facilities/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(i.bind(i,7565)),"/Users/user/regintel-v2/apps/web/src/app/(app)/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,8844,23)),"next/dist/client/components/not-found-error"]}]},{layout:[()=>Promise.resolve().then(i.bind(i,2154)),"/Users/user/regintel-v2/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(i.t.bind(i,8844,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/user/regintel-v2/apps/web/src/app/(app)/facilities/page.tsx"],p="/(app)/facilities/page",m={require:i,loadChunk:()=>Promise.resolve()},g=new s.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/(app)/facilities/page",pathname:"/facilities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},6822:(e,a,i)=>{Promise.resolve().then(i.bind(i,9509))},9509:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>p});var s=i(3716),t=i(2899),r=i(2367),l=i(4130),o=i(9814),n=i(6428);i(9580),i(20);var c=i(5234),d=i.n(c);function p(){let e=(0,r.useSearchParams)(),a=(0,r.useRouter)(),i=e.get("provider"),[c,p]=(0,t.useState)(null),[m,g]=(0,t.useState)(!0),[u,h]=(0,t.useState)(null),_=e=>{a.push(`/overview?provider=${i}&facility=${e}`)},x=c?{providerName:c.provider?.providerName||"Provider",snapshotDate:c.provider?.asOf||c.snapshotTimestamp,topicCatalogVersion:c.topicCatalogVersion,prsLogicVersion:c.prsLogicVersion}:{providerName:"Loading...",snapshotDate:new Date().toISOString(),topicCatalogVersion:"v1",prsLogicVersion:"v1"};return(0,s.jsxs)("div",{className:d().layout,children:[s.jsx(l.Y,{...x}),s.jsx("main",{className:d().main,children:m?s.jsx("div",{className:d().loading,children:"Loading facilities..."}):u||!c?(0,s.jsxs)("div",{className:d().error,children:["Error: ",u||"Failed to load facilities"]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(o.m,{title:"Facilities",subtitle:`${c.totalCount} facilities registered`,topicCatalogVersion:c.topicCatalogVersion,topicCatalogHash:c.topicCatalogHash,prsLogicVersion:c.prsLogicVersion,prsLogicHash:c.prsLogicHash,snapshotTimestamp:c.snapshotTimestamp,domain:c.domain,reportingDomain:c.reportingDomain}),s.jsx(n.I,{topicCatalogVersion:c.topicCatalogVersion,topicCatalogHash:c.topicCatalogHash,prsLogicVersion:c.prsLogicVersion,prsLogicHash:c.prsLogicHash,snapshotTimestamp:c.snapshotTimestamp,domain:c.domain,reportingDomain:c.reportingDomain}),s.jsx("div",{className:d().actions,children:s.jsx("button",{className:d().addButton,onClick:()=>{a.push(`/facilities/new?provider=${i}`)},"data-testid":"add-facility-button",children:"Add Facility"})}),0===c.facilities.length?(0,s.jsxs)("div",{className:d().empty,children:[s.jsx("p",{children:"No facilities registered yet."}),s.jsx("p",{children:'Click "Add Facility" to register your first facility.'})]}):s.jsx("div",{className:d().facilitiesList,children:c.facilities.map(e=>(0,s.jsxs)("div",{className:d().facilityCard,onClick:()=>_(e.id),"data-testid":`facility-card-${e.id}`,children:[s.jsx("h3",{className:d().facilityName,children:e.facilityName}),(0,s.jsxs)("div",{className:d().facilityDetails,children:[(0,s.jsxs)("div",{className:d().detailRow,children:[s.jsx("span",{className:d().detailLabel,children:"CQC Location ID:"}),s.jsx("span",{className:d().detailValue,children:e.cqcLocationId})]}),(0,s.jsxs)("div",{className:d().detailRow,children:[s.jsx("span",{className:d().detailLabel,children:"Service Type:"}),s.jsx("span",{className:d().detailValue,children:e.serviceType})]}),(0,s.jsxs)("div",{className:d().detailRow,children:[s.jsx("span",{className:d().detailLabel,children:"Address:"}),(0,s.jsxs)("span",{className:d().detailValue,children:[e.addressLine1,", ",e.townCity,", ",e.postcode]})]}),e.capacity&&(0,s.jsxs)("div",{className:d().detailRow,children:[s.jsx("span",{className:d().detailLabel,children:"Capacity:"}),s.jsx("span",{className:d().detailValue,children:e.capacity})]})]}),(0,s.jsxs)("div",{className:d().facilityHash,children:["Hash: ",e.facilityHash.substring(0,16),"..."]})]},e.id))})]})})]})}},5234:e=>{e.exports={layout:"page_layout__iJqGt",main:"page_main__oWaaw",actions:"page_actions__hacnN",addButton:"page_addButton__MGBOI",facilitiesList:"page_facilitiesList__gxkDO",facilityCard:"page_facilityCard__GBq0u",facilityName:"page_facilityName__4goeX",facilityDetails:"page_facilityDetails__ZVtly",detailRow:"page_detailRow__fCPhr",detailLabel:"page_detailLabel__T4k6b",detailValue:"page_detailValue__E_Ekh",facilityHash:"page_facilityHash__BIo_y",empty:"page_empty__zZCh0",loading:"page_loading__kxCxx",error:"page_error__WwAYX"}},7758:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>s});let s=(0,i(436).createProxy)(String.raw`/Users/user/regintel-v2/apps/web/src/app/(app)/facilities/page.tsx#default`)}};var a=require("../../../webpack-runtime.js");a.C(e);var i=e=>a(a.s=e),s=a.X(0,[283,322,109],()=>i(6656));module.exports=s})();