(()=>{var e={};e.id=150,e.ids=[150],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9476:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>l,routeModule:()=>h,tree:()=>d}),t(1804),t(2154),t(8844);var i=t(7080),s=t(9920),a=t(1559),n=t.n(a),o=t(9210),c={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>o[e]);t.d(r,c);let d=["",{children:["providers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1804)),"/Users/user/regintel-v2/apps/web/src/app/providers/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2154)),"/Users/user/regintel-v2/apps/web/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,8844,23)),"next/dist/client/components/not-found-error"]}],l=["/Users/user/regintel-v2/apps/web/src/app/providers/page.tsx"],p="/providers/page",u={require:t,loadChunk:()=>Promise.resolve()},h=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/providers/page",pathname:"/providers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},919:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,7634,23)),Promise.resolve().then(t.t.bind(t,9952,23)),Promise.resolve().then(t.t.bind(t,7544,23)),Promise.resolve().then(t.t.bind(t,6946,23)),Promise.resolve().then(t.t.bind(t,9087,23)),Promise.resolve().then(t.t.bind(t,3625,23))},4129:()=>{},1199:(e,r,t)=>{Promise.resolve().then(t.bind(t,9349))},2367:(e,r,t)=>{"use strict";var i=t(3117);t.o(i,"useParams")&&t.d(r,{useParams:function(){return i.useParams}}),t.o(i,"usePathname")&&t.d(r,{usePathname:function(){return i.usePathname}}),t.o(i,"useRouter")&&t.d(r,{useRouter:function(){return i.useRouter}}),t.o(i,"useSearchParams")&&t.d(r,{useSearchParams:function(){return i.useSearchParams}})},9349:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var i=t(3716),s=t(2899),a=t(2367),n=t(9580);t(20);var o=t(1023),c=t.n(o);function d(){let e=(0,a.useRouter)(),[r,t]=(0,s.useState)(null),[o,d]=(0,s.useState)(""),[l,p]=(0,s.useState)(""),[u,h]=(0,s.useState)(!0),[v,m]=(0,s.useState)(!1),[g,f]=(0,s.useState)(null),_=async r=>{if(r.preventDefault(),f(null),!o.trim()){f("Provider name is required");return}m(!0);try{let r={providerName:o.trim(),orgRef:l.trim()||void 0},{provider:i,...s}=await n.x1.createProvider(r);d(""),p(""),t(e=>e?{...e,providers:[...e.providers,i]}:{...s,providers:[i]}),e.push(`/facilities?provider=${i.providerId}`)}catch(e){f(e instanceof Error?e.message:"Failed to create provider")}finally{m(!1)}},y=r=>{e.push(`/facilities?provider=${r.providerId}`)};return u?i.jsx("div",{className:c().layout,children:i.jsx("div",{className:c().loading,children:"Loading providers..."})}):g&&!r?i.jsx("div",{className:c().layout,children:(0,i.jsxs)("div",{className:c().error,children:["Error: ",g]})}):i.jsx("div",{className:c().layout,children:(0,i.jsxs)("main",{className:c().main,children:[i.jsx("div",{className:c().header,children:(0,i.jsxs)("div",{children:[i.jsx("p",{className:c().kicker,children:"Onboarding"}),i.jsx("h1",{className:c().title,children:"Providers"}),i.jsx("p",{className:c().subtitle,children:"Create a provider and register facilities."})]})}),(0,i.jsxs)("section",{className:c().formCard,children:[i.jsx("h2",{className:c().sectionTitle,children:"Create Provider"}),g&&i.jsx("div",{className:c().error,children:g}),(0,i.jsxs)("form",{onSubmit:_,className:c().form,children:[(0,i.jsxs)("label",{className:c().label,children:["Provider Name ",i.jsx("span",{className:c().required,children:"*"}),i.jsx("input",{value:o,onChange:e=>d(e.target.value),className:c().input,disabled:v,"data-testid":"provider-name-input"})]}),(0,i.jsxs)("label",{className:c().label,children:["Organisation Reference (optional)",i.jsx("input",{value:l,onChange:e=>p(e.target.value),className:c().input,disabled:v,"data-testid":"provider-orgref-input"})]}),i.jsx("button",{type:"submit",className:c().submit,disabled:v,"data-testid":"primary-create-provider",children:v?"Creating...":"Create Provider"})]})]}),(0,i.jsxs)("section",{className:c().list,children:[i.jsx("h2",{className:c().sectionTitle,children:"Existing Providers"}),r&&0===r.providers.length?i.jsx("p",{className:c().empty,children:"No providers yet."}):i.jsx("div",{className:c().grid,children:r?.providers.map(e=>i.jsxs("div",{className:c().card,children:[i.jsxs("div",{children:[i.jsx("h3",{className:c().cardTitle,children:e.providerName}),i.jsxs("p",{className:c().cardMeta,children:["Provider ID: ",e.providerId]}),e.orgRef&&i.jsxs("p",{className:c().cardMeta,children:["Org ref: ",e.orgRef]})]}),i.jsx("button",{type:"button",className:c().cardButton,onClick:()=>y(e),"data-testid":`provider-open-${e.providerId}`,children:"Manage Facilities"})]},e.providerId))})]})]})})}},9580:(e,r,t)=>{"use strict";t.d(r,{MS:()=>a,x1:()=>o});var i=t(20),s=t(7950);class a extends Error{constructor(e,r,t){super(e),this.status=r,this.response=t,this.name="ApiError"}}class n{constructor(e){this.config=e}async fetch(e,r){let t=`${this.config.baseUrl}${e}`,n=(0,s.bW)(),o=await fetch(t,{...r,headers:{"Content-Type":"application/json",...n?{Authorization:`Bearer ${n}`}:{},...this.config.tenantId?{"X-Tenant-Id":this.config.tenantId}:{},...r?.headers}});if((401===o.status||403===o.status)&&(0,s.Rn)(),!o.ok){let e=await o.json().catch(()=>({})),r=e.error||o.statusText;throw new a(`API request failed: ${r}`,o.status,e)}let c=await o.json();return function(e){let r=[];if(e.topicCatalogVersion||r.push("topicCatalogVersion"),e.topicCatalogHash||r.push("topicCatalogHash"),e.prsLogicVersion||r.push("prsLogicVersion"),e.prsLogicHash||r.push("prsLogicHash"),e.snapshotTimestamp||r.push("snapshotTimestamp"),e.domain||r.push("domain"),e.reportingDomain||r.push("reportingDomain"),r.length>0)throw new i.L2(`API response missing constitutional metadata: ${r.join(", ")}`,r)}(c),c}async getProviders(){return this.fetch("/v1/providers")}async createProvider(e){return this.fetch("/v1/providers",{method:"POST",body:JSON.stringify(e)})}async getProviderOverview(e,r){let t=r?`?facility=${encodeURIComponent(r)}`:"";return this.fetch(`/v1/providers/${e}/overview${t}`)}async getTopics(e,r){let t=r?`?facility=${encodeURIComponent(r)}`:"";return this.fetch(`/v1/providers/${e}/topics${t}`)}async getTopic(e,r,t){let i=t?`?facility=${encodeURIComponent(t)}`:"";return this.fetch(`/v1/providers/${e}/topics/${r}${i}`)}async getMockSessions(e,r){let t=r?`?facility=${encodeURIComponent(r)}`:"";return this.fetch(`/v1/providers/${e}/mock-sessions${t}`)}async createMockSession(e,r,t){return this.fetch(`/v1/providers/${e}/mock-sessions`,{method:"POST",body:JSON.stringify({topicId:r,facilityId:t})})}async getMockSession(e,r,t){let i=t?`?facility=${encodeURIComponent(t)}`:"";return this.fetch(`/v1/providers/${e}/mock-sessions/${r}${i}`)}async submitAnswer(e,r,t){return this.fetch(`/v1/providers/${e}/mock-sessions/${r}/answer`,{method:"POST",body:JSON.stringify({answer:t})})}async getFindings(e,r){let t=r?`?facility=${encodeURIComponent(r)}`:"";return this.fetch(`/v1/providers/${e}/findings${t}`)}async getFinding(e,r){return this.fetch(`/v1/providers/${e}/findings/${r}`)}async getEvidence(e,r){let t=r?`?facility=${encodeURIComponent(r)}`:"";return this.fetch(`/v1/providers/${e}/evidence${t}`)}async getAuditTrail(e){return this.fetch(`/v1/providers/${e}/audit-trail`)}async generateExport(e,r){return this.fetch(`/v1/providers/${e}/exports`,{method:"POST",body:JSON.stringify(r)})}async getExportStatus(e,r){let t=r?`?facility=${encodeURIComponent(r)}`:"";return this.fetch(`/v1/providers/${e}/exports${t}`)}async getFacilities(e){let r=e?`/v1/providers/${e}/facilities`:"/v1/facilities";return this.fetch(r)}async onboardFacility(e){return this.fetch("/v1/facilities/onboard",{method:"POST",body:JSON.stringify(e)})}async createFacility(e){return this.fetch(`/v1/providers/${e.providerId}/facilities`,{method:"POST",body:JSON.stringify(e)})}async getFacility(e){return this.fetch(`/v1/facilities/${e}`)}async createEvidenceBlob(e){return this.fetch("/v1/evidence/blobs",{method:"POST",body:JSON.stringify(e)})}async createFacilityEvidence(e){return this.fetch(`/v1/facilities/${e.facilityId}/evidence`,{method:"POST",body:JSON.stringify(e)})}async getFacilityEvidence(e){return this.fetch(`/v1/facilities/${e}/evidence`)}}let o=new n({baseUrl:"http://localhost:3001"})},7950:(e,r,t)=>{"use strict";function i(){return null}function s(){return null}function a(e,r){}function n(){}t.d(r,{Rn:()=>n,bW:()=>i,sW:()=>s,uB:()=>a})},2652:(e,r,t)=>{"use strict";t.d(r,{lE:()=>a,qN:()=>s,tx:()=>i,y8:()=>n});let i="READINESS (MOCK) â€” NOT REGULATORY HISTORY",s={SYSTEM_MOCK:"SYSTEM_MOCK",ACTUAL_INSPECTION:"ACTUAL_INSPECTION",SELF_IDENTIFIED:"SELF_IDENTIFIED"},a={MOCK_SIMULATION:"MOCK_SIMULATION",REGULATORY_HISTORY:"REGULATORY_HISTORY"},n=[{id:"providers",label:"Providers",href:"/providers"},{id:"overview",label:"Overview",href:"/overview"},{id:"topics",label:"Topics",href:"/topics"},{id:"mock-session",label:"Mock Inspection",href:"/mock-session"},{id:"findings",label:"Findings",href:"/findings"},{id:"facilities",label:"Facilities",href:"/facilities"},{id:"evidence",label:"Evidence",href:"/evidence"},{id:"exports",label:"Exports",href:"/exports"},{id:"audit",label:"Audit Trail",href:"/audit"}]},20:(e,r,t)=>{"use strict";t.d(r,{Eb:()=>n,L2:()=>s,Uu:()=>a});var i=t(2652);class s extends Error{constructor(e,r){super(e),this.missingRequirements=r,this.name="ConstitutionalViolationError"}}function a(e,r){let t=[],i=!!(e.topicCatalogVersion&&e.prsLogicVersion),a=!!(e.topicCatalogHash&&e.topicCatalogHash.length>0&&e.prsLogicHash&&e.prsLogicHash.length>0),n=!!e.snapshotTimestamp,o=!!e.domain;if(i||t.push("version"),a||t.push("hash"),n||t.push("timestamp"),o||t.push("domain"),r?.strict&&t.length>0)throw new s(`Constitutional UI violation: missing ${t.join(", ")}`,t);return{valid:0===t.length,hasVersion:i,hasHash:a,hasTimestamp:n,hasDomain:o,missingRequirements:t}}function n(e){return e.origin===i.qN.SYSTEM_MOCK||e.reportingDomain===i.lE.MOCK_SIMULATION?{borderColor:"var(--color-simulation)",borderWidth:"4px"}:null}},1023:e=>{e.exports={layout:"page_layout__UAop_",main:"page_main__ZhdX7",header:"page_header__Dr4Xw",kicker:"page_kicker__p00dr",title:"page_title___bHbd",subtitle:"page_subtitle__AkcH0",formCard:"page_formCard__qNOFV",sectionTitle:"page_sectionTitle__A4WUD",form:"page_form__2v6s_",label:"page_label__eZVpq",input:"page_input__OINs0",submit:"page_submit__paVVz",list:"page_list__iV8Ab",grid:"page_grid__85Ehf",card:"page_card__1B4my",cardTitle:"page_cardTitle__uRtZM",cardMeta:"page_cardMeta__WbWhM",cardButton:"page_cardButton__1AUBO",error:"page_error___mvFu",loading:"page_loading__UwLYS",empty:"page_empty__VzOem",required:"page_required__o_LPI"}},2154:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,metadata:()=>s});var i=t(9785);t(6282);let s={title:"RegIntel v2 - Regulatory Compliance Intelligence",description:"Evidence-based compliance for UK CQC-registered care providers"};function a({children:e}){return i.jsx("html",{lang:"en",children:i.jsx("body",{children:e})})}},1804:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});let i=(0,t(436).createProxy)(String.raw`/Users/user/regintel-v2/apps/web/src/app/providers/page.tsx#default`)},6282:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[283],()=>t(9476));module.exports=i})();