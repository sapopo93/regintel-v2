(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[500],{2439:function(e,s,a){Promise.resolve().then(a.bind(a,6972))},6972:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return g}});var t=a(6969),i=a(5645),o=a(7345),n=a(2335),r=a(3565),l=a(8604),c=a(3436),d=a(9288),p=a(2074),u=a(161),m=a(1478),_=a(637),h=a.n(_);function g(){let e=(0,o.useSearchParams)(),s=e.get("provider")?decodeURIComponent(e.get("provider")):null,a=e.get("facility")?decodeURIComponent(e.get("facility")):null,[_,g]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),[j,f]=(0,i.useState)([]),[N,b]=(0,i.useState)(""),[y,C]=(0,i.useState)(!1),[S,k]=(0,i.useState)(!0),[T,w]=(0,i.useState)(null);(0,i.useEffect)(()=>{if(!s||!a){w("Provider and facility are required"),k(!1);return}Promise.all([u.x1.getProviderOverview(s,a),u.x1.getMockSessions(s,a),u.x1.getTopics(s,a)]).then(e=>{var s;let[a,t,i]=e;(0,m.Uu)(t,{strict:!0}),g(a),x(t),f(i.topics),b((null===(s=i.topics[0])||void 0===s?void 0:s.id)||"")}).catch(e=>w(e.message)).finally(()=>k(!1))},[s,a]);let L=async()=>{if(!s||!a||!N){w("Provider, facility, and topic are required");return}C(!0),w(null);try{await u.x1.createMockSession(s,N,a);let e=await u.x1.getMockSessions(s,a);x(e)}catch(e){w(e instanceof Error?e.message:"Failed to start session")}finally{C(!1)}};return S?(0,t.jsx)("div",{className:h().layout,children:(0,t.jsx)("div",{className:h().loading,children:"Loading..."})}):!T&&v&&_?(0,t.jsx)(p.q,{reportingDomain:v.reportingDomain,children:(0,t.jsxs)("div",{className:h().layout,children:[(0,t.jsx)(r.Y,{providerName:_.provider.providerName,snapshotDate:_.provider.asOf,status:_.provider.prsState,topicCatalogVersion:v.topicCatalogVersion,prsLogicVersion:v.prsLogicVersion,topicsCompleted:_.topicsCompleted,totalTopics:_.totalTopics}),(0,t.jsxs)("main",{className:h().main,children:[(0,t.jsx)(l.m,{title:"Mock Inspection Sessions",subtitle:"All simulation sessions",topicCatalogVersion:v.topicCatalogVersion,topicCatalogHash:v.topicCatalogHash,prsLogicVersion:v.prsLogicVersion,prsLogicHash:v.prsLogicHash,snapshotTimestamp:v.snapshotTimestamp,domain:v.domain,reportingDomain:v.reportingDomain}),(0,t.jsx)(c.V,{summary:(0,t.jsx)("div",{className:h().sessionsList,children:0===v.sessions.length?(0,t.jsx)("div",{className:h().empty,children:"No mock sessions found"}):v.sessions.map(e=>(0,t.jsxs)(n.default,{href:"/mock-session/".concat(e.sessionId,"?provider=").concat(s,"&facility=").concat(a),className:h().sessionCard,children:[(0,t.jsxs)("div",{className:h().sessionHeader,children:[(0,t.jsxs)("h3",{className:h().sessionTitle,children:["Session ",e.sessionId]}),(0,t.jsx)("div",{className:"".concat(h().statusBadge," ").concat(h()[e.status.toLowerCase()]),children:e.status})]}),(0,t.jsxs)("div",{className:h().sessionMeta,children:[(0,t.jsxs)("span",{children:["Topic: ",e.topicId]}),(0,t.jsxs)("span",{children:["Follow-ups: ",e.followUpsUsed,"/",e.maxFollowUps]})]}),(0,t.jsxs)("div",{className:h().sessionDate,children:["Created: ",new Date(e.createdAt).toLocaleString(),e.completedAt&&" • Completed: ".concat(new Date(e.completedAt).toLocaleString())]})]},e.sessionId))}),evidence:(0,t.jsxs)("div",{className:h().snapshotPanel,children:[(0,t.jsx)("h2",{className:h().sectionTitle,children:"Start a Mock Session"}),(0,t.jsxs)("div",{className:h().formRow,children:[(0,t.jsxs)("label",{className:h().label,children:["Topic",(0,t.jsx)("select",{value:N,onChange:e=>b(e.target.value),className:h().select,"data-testid":"mock-session-topic-select",children:j.map(e=>(0,t.jsx)("option",{value:e.id,children:e.title},e.id))})]}),(0,t.jsx)("button",{className:h().startButton,onClick:L,disabled:y||!N,"data-testid":"primary-start-session",children:y?"Starting...":"Start Session"})]})]}),trace:(0,t.jsx)(d.I,{topicCatalogVersion:v.topicCatalogVersion,topicCatalogHash:v.topicCatalogHash,prsLogicVersion:v.prsLogicVersion,prsLogicHash:v.prsLogicHash,snapshotTimestamp:v.snapshotTimestamp,domain:v.domain,reportingDomain:v.reportingDomain})})]})]})}):(0,t.jsx)("div",{className:h().layout,children:(0,t.jsxs)("div",{className:h().error,children:["Error: ",T||"Failed to load data"]})})}},3436:function(e,s,a){"use strict";a.d(s,{V:function(){return r}});var t=a(6969),i=a(5645),o=a(2968),n=a.n(o);function r(e){var s,a,o,r,l;let{summary:c,evidence:d,trace:p,labels:u,actions:m}=e,[_,h]=(0,i.useState)("summary"),g=null!==(s=null==u?void 0:u.summary)&&void 0!==s?s:"Summary",v=null!==(a=null==u?void 0:u.evidence)&&void 0!==a?a:"Evidence",x=null!==(o=null==u?void 0:u.trace)&&void 0!==o?o:"Trace",j=null!==(r=null==m?void 0:m.showEvidence)&&void 0!==r?r:"Show Evidence →",f=null!==(l=null==m?void 0:m.showTrace)&&void 0!==l?l:"Show Trace →";return(0,t.jsxs)("div",{className:n().container,children:[(0,t.jsxs)("div",{className:n().tabs,children:[(0,t.jsx)("button",{className:"summary"===_?n().tabActive:n().tab,onClick:()=>h("summary"),children:g}),(0,t.jsx)("button",{className:"evidence"===_?n().tabActive:n().tab,onClick:()=>h("evidence"),disabled:"summary"===_,children:v}),(0,t.jsx)("button",{className:"trace"===_?n().tabActive:n().tab,onClick:()=>h("trace"),disabled:"trace"!==_,children:x})]}),(0,t.jsxs)("div",{className:n().content,children:["summary"===_&&(0,t.jsxs)("div",{className:n().layer,children:[c,(0,t.jsx)("button",{className:n().actionButton,onClick:()=>h("evidence"),children:j})]}),"evidence"===_&&(0,t.jsxs)("div",{className:n().layer,children:[d,(0,t.jsx)("button",{className:n().actionButton,onClick:()=>h("trace"),children:f})]}),"trace"===_&&(0,t.jsx)("div",{className:n().layer,children:p})]})]})}},2074:function(e,s,a){"use strict";a.d(s,{q:function(){return p}});var t=a(6969),i=a(1478),o=a(3924),n=a(7186),r=a.n(n);function l(){return(0,t.jsx)("div",{className:r().watermark,"aria-hidden":"true",children:o.tx})}var c=a(6375),d=a.n(c);function p(e){let{origin:s,reportingDomain:a,children:o}=e,n=(0,i.Eb)({origin:s,reportingDomain:a});return n?(0,t.jsxs)("div",{className:d().frame,style:{borderColor:n.borderColor,borderWidth:n.borderWidth},children:[(0,t.jsx)(l,{}),o]}):(0,t.jsx)(t.Fragment,{children:o})}},637:function(e){e.exports={layout:"page_layout__JmNgq",main:"page_main__ot31w",sessionsList:"page_sessionsList__ATe1K",sessionCard:"page_sessionCard__U241p",sessionHeader:"page_sessionHeader__OeFm_",sessionTitle:"page_sessionTitle__lPNMZ",statusBadge:"page_statusBadge__EoM6F",in_progress:"page_in_progress__G02KP",completed:"page_completed__nRjMJ",abandoned:"page_abandoned__Tfu85",sessionMeta:"page_sessionMeta__2R5ky",sessionDate:"page_sessionDate__MHofa",snapshotPanel:"page_snapshotPanel__pptWd",formRow:"page_formRow__ejTBp",label:"page_label__Iv5xy",select:"page_select__TudLL",startButton:"page_startButton__iIa5p",sectionTitle:"page_sectionTitle__sOSGM",snapshotList:"page_snapshotList__qVSp2",snapshotItem:"page_snapshotItem__B7h5z",empty:"page_empty__UxTA4",loading:"page_loading__KgDqB",error:"page_error__Rrzbw"}},2968:function(e){e.exports={container:"DisclosurePanel_container__OSi_X",tabs:"DisclosurePanel_tabs__gWkna",tab:"DisclosurePanel_tab__9h3XA",tabActive:"DisclosurePanel_tabActive__r9vRK DisclosurePanel_tab__9h3XA",content:"DisclosurePanel_content__hWuMj",layer:"DisclosurePanel_layer__1l2ax",actionButton:"DisclosurePanel_actionButton__PTiss"}},6375:function(e){e.exports={frame:"SimulationFrame_frame__xGjXh"}},7186:function(e){e.exports={watermark:"SimulationWatermark_watermark__tdBPL"}}},function(e){e.O(0,[357,33,365,939,325,744],function(){return e(e.s=2439)}),_N_E=e.O()}]);