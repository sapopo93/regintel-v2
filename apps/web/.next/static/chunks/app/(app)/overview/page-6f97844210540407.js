(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[300],{2290:function(e,i,a){Promise.resolve().then(a.bind(a,3836))},3836:function(e,i,a){"use strict";a.r(i),a.d(i,{default:function(){return g}});var s=a(6969),r=a(5645),n=a(7345),c=a(3565),t=a(8604),o=a(3436),d=a(9288),l=a(2074),m=a(2026),u=a.n(m);function v(e){let{reportingDomain:i}=e;return"MOCK_SIMULATION"!==i?null:(0,s.jsxs)("div",{className:u().badge,children:[(0,s.jsx)("span",{className:u().indicator,children:"\uD83D\uDFE5"}),(0,s.jsxs)("span",{className:u().text,children:[(0,s.jsx)("strong",{children:"Simulation Mode Active"}),(0,s.jsx)("span",{className:u().subtext,children:"Findings generated here cannot enter regulatory history"})]})]})}var p=a(161),h=a(1478),_=a(5399),x=a.n(_);function g(){var e,i,a;let m=(0,n.useSearchParams)(),u=m.get("provider"),_=m.get("facility"),[g,j]=(0,r.useState)(null),[N,f]=(0,r.useState)(!0),[b,y]=(0,r.useState)(null);return((0,r.useEffect)(()=>{if(!u||!_){y("Provider and facility are required"),f(!1);return}p.x1.getProviderOverview(u,_).then(e=>{(0,h.Uu)(e,{strict:!0}),j(e)}).catch(e=>y(e.message)).finally(()=>f(!1))},[u,_]),N)?(0,s.jsx)("div",{className:x().layout,children:(0,s.jsx)("div",{className:x().loading,children:"Loading..."})}):b||!g?(0,s.jsx)("div",{className:x().layout,children:(0,s.jsxs)("div",{className:x().error,children:["Error: ",b||"Failed to load data"]})}):(0,s.jsx)(l.q,{reportingDomain:g.reportingDomain,children:(0,s.jsxs)("div",{className:x().layout,children:[(0,s.jsx)(c.Y,{providerName:g.provider.providerName,snapshotDate:g.provider.asOf,status:g.provider.prsState,topicCatalogVersion:g.topicCatalogVersion,prsLogicVersion:g.prsLogicVersion,topicsCompleted:g.topicsCompleted,totalTopics:g.totalTopics}),(0,s.jsxs)("main",{className:x().main,children:[(0,s.jsx)(t.m,{title:"Inspection Readiness Record",subtitle:"Provider: ".concat(g.provider.providerName," \xb7 Facility: ").concat(null!==(a=null===(e=g.facility)||void 0===e?void 0:e.facilityName)&&void 0!==a?a:"Unknown"),topicCatalogVersion:g.topicCatalogVersion,topicCatalogHash:g.topicCatalogHash,prsLogicVersion:g.prsLogicVersion,prsLogicHash:g.prsLogicHash,snapshotTimestamp:g.snapshotTimestamp,domain:g.domain,reportingDomain:g.reportingDomain}),(0,s.jsx)(v,{reportingDomain:g.reportingDomain}),(0,s.jsx)(o.V,{summary:(0,s.jsxs)("div",{className:x().grid,children:[(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardLabel,children:"Evidence Coverage"}),(0,s.jsxs)("div",{className:x().cardValue,children:[g.evidenceCoverage,"%"]}),(0,s.jsx)("div",{className:x().cardNote,children:"Percentage of required evidence uploaded"}),(0,s.jsxs)("div",{className:x().cardProvenance,children:["Calculated from Topic Catalog ",g.topicCatalogVersion," requirements"]})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardLabel,children:"Topics Completed"}),(0,s.jsxs)("div",{className:x().cardValue,children:[g.topicsCompleted," / ",g.totalTopics]}),(0,s.jsx)("div",{className:x().cardNote,children:"Mock inspection topics addressed"}),(0,s.jsx)("div",{className:x().cardProvenance,children:"Based on mock inspection sessions"})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardLabel,children:"Unanswered Questions"}),(0,s.jsx)("div",{className:x().cardValue,children:g.unansweredQuestions}),(0,s.jsx)("div",{className:x().cardNote,children:"Questions requiring provider response"}),(0,s.jsx)("div",{className:x().cardProvenance,children:"Awaiting provider response"})]}),(0,s.jsxs)("div",{className:x().card,children:[(0,s.jsx)("div",{className:x().cardLabel,children:"Open Findings"}),(0,s.jsx)("div",{className:x().cardValue,children:g.openFindings}),(0,s.jsx)("div",{className:x().cardNote,children:"Findings without remediation"}),(0,s.jsxs)("div",{className:x().cardProvenance,children:["Generated via PRS Logic ",g.prsLogicVersion," (mock domain)"]})]})]}),evidence:(0,s.jsxs)("div",{className:x().providerInfo,children:[(0,s.jsx)("h2",{className:x().sectionTitle,children:"Provider Details"}),(0,s.jsxs)("dl",{className:x().definitionList,children:[(0,s.jsx)("dt",{children:"Provider ID"}),(0,s.jsx)("dd",{children:g.provider.providerId}),(0,s.jsx)("dt",{children:"Facility ID"}),(0,s.jsx)("dd",{children:(null===(i=g.facility)||void 0===i?void 0:i.id)||"Unknown"}),(0,s.jsx)("dt",{children:"PRS State"}),(0,s.jsx)("dd",{children:g.provider.prsState}),(0,s.jsx)("dt",{children:"Registered Beds"}),(0,s.jsx)("dd",{children:g.provider.registeredBeds}),(0,s.jsx)("dt",{children:"Service Types"}),(0,s.jsx)("dd",{children:g.provider.serviceTypes.join(", ")}),g.facility&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("dt",{children:"Facility CQC Location ID"}),(0,s.jsx)("dd",{children:g.facility.cqcLocationId})]})]})]}),trace:(0,s.jsx)(d.I,{topicCatalogVersion:g.topicCatalogVersion,topicCatalogHash:g.topicCatalogHash,prsLogicVersion:g.prsLogicVersion,prsLogicHash:g.prsLogicHash,snapshotTimestamp:g.snapshotTimestamp,domain:g.domain,reportingDomain:g.reportingDomain})})]})]})})}},3436:function(e,i,a){"use strict";a.d(i,{V:function(){return t}});var s=a(6969),r=a(5645),n=a(2968),c=a.n(n);function t(e){var i,a,n,t,o;let{summary:d,evidence:l,trace:m,labels:u,actions:v}=e,[p,h]=(0,r.useState)("summary"),_=null!==(i=null==u?void 0:u.summary)&&void 0!==i?i:"Summary",x=null!==(a=null==u?void 0:u.evidence)&&void 0!==a?a:"Evidence",g=null!==(n=null==u?void 0:u.trace)&&void 0!==n?n:"Trace",j=null!==(t=null==v?void 0:v.showEvidence)&&void 0!==t?t:"Show Evidence →",N=null!==(o=null==v?void 0:v.showTrace)&&void 0!==o?o:"Show Trace →";return(0,s.jsxs)("div",{className:c().container,children:[(0,s.jsxs)("div",{className:c().tabs,children:[(0,s.jsx)("button",{className:"summary"===p?c().tabActive:c().tab,onClick:()=>h("summary"),children:_}),(0,s.jsx)("button",{className:"evidence"===p?c().tabActive:c().tab,onClick:()=>h("evidence"),disabled:"summary"===p,children:x}),(0,s.jsx)("button",{className:"trace"===p?c().tabActive:c().tab,onClick:()=>h("trace"),disabled:"trace"!==p,children:g})]}),(0,s.jsxs)("div",{className:c().content,children:["summary"===p&&(0,s.jsxs)("div",{className:c().layer,children:[d,(0,s.jsx)("button",{className:c().actionButton,onClick:()=>h("evidence"),children:j})]}),"evidence"===p&&(0,s.jsxs)("div",{className:c().layer,children:[l,(0,s.jsx)("button",{className:c().actionButton,onClick:()=>h("trace"),children:N})]}),"trace"===p&&(0,s.jsx)("div",{className:c().layer,children:m})]})]})}},2074:function(e,i,a){"use strict";a.d(i,{q:function(){return m}});var s=a(6969),r=a(1478),n=a(3924),c=a(7186),t=a.n(c);function o(){return(0,s.jsx)("div",{className:t().watermark,"aria-hidden":"true",children:n.tx})}var d=a(6375),l=a.n(d);function m(e){let{origin:i,reportingDomain:a,children:n}=e,c=(0,r.Eb)({origin:i,reportingDomain:a});return c?(0,s.jsxs)("div",{className:l().frame,style:{borderColor:c.borderColor,borderWidth:c.borderWidth},children:[(0,s.jsx)(o,{}),n]}):(0,s.jsx)(s.Fragment,{children:n})}},5399:function(e){e.exports={layout:"page_layout__8DeHL",main:"page_main__ITvXm",grid:"page_grid__C0c0z",card:"page_card__Il5dR",cardLabel:"page_cardLabel__A7Dl8",cardValue:"page_cardValue__36ZW2",cardNote:"page_cardNote__RwSec",cardProvenance:"page_cardProvenance__uxMPM",providerInfo:"page_providerInfo__KbS_3",sectionTitle:"page_sectionTitle__IJjYx",definitionList:"page_definitionList__cQDaX",loading:"page_loading__NCUrR",error:"page_error__U_ItM"}},2968:function(e){e.exports={container:"DisclosurePanel_container__OSi_X",tabs:"DisclosurePanel_tabs__gWkna",tab:"DisclosurePanel_tab__9h3XA",tabActive:"DisclosurePanel_tabActive__r9vRK DisclosurePanel_tab__9h3XA",content:"DisclosurePanel_content__hWuMj",layer:"DisclosurePanel_layer__1l2ax",actionButton:"DisclosurePanel_actionButton__PTiss"}},6375:function(e){e.exports={frame:"SimulationFrame_frame__xGjXh"}},2026:function(e){e.exports={badge:"SimulationModeBadge_badge__UyFt4",indicator:"SimulationModeBadge_indicator__H19Ov",text:"SimulationModeBadge_text__P534m",subtext:"SimulationModeBadge_subtext__WYKql"}},7186:function(e){e.exports={watermark:"SimulationWatermark_watermark__tdBPL"}}},function(e){e.O(0,[357,33,365,939,325,744],function(){return e(e.s=2290)}),_N_E=e.O()}]);