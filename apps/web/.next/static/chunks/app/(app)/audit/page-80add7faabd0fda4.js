(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[717],{5521:function(e,a,i){Promise.resolve().then(i.bind(i,5026))},5026:function(e,a,i){"use strict";i.r(a),i.d(a,{default:function(){return v}});var t=i(6969),s=i(5645),n=i(7345),r=i(3565),c=i(8604),o=i(3436),l=i(9288),d=i(2074),u=i(161),h=i(1478),m=i(5698),p=i.n(m);function v(){let e=(0,n.useSearchParams)(),a=e.get("provider"),i=e.get("facility"),[m,v]=(0,s.useState)(null),[_,g]=(0,s.useState)(null),[x,j]=(0,s.useState)(!0),[y,N]=(0,s.useState)(null);return((0,s.useEffect)(()=>{if(!a||!i){N("Provider and facility are required"),j(!1);return}Promise.all([u.x1.getProviderOverview(a,i),u.x1.getAuditTrail(a)]).then(e=>{let[a,i]=e;(0,h.Uu)(i,{strict:!0}),v(a),g(i)}).catch(e=>N(e.message)).finally(()=>j(!1))},[a,i]),x)?(0,t.jsx)("div",{className:p().layout,children:(0,t.jsx)("div",{className:p().loading,children:"Loading..."})}):!y&&_&&m?(0,t.jsx)(d.q,{reportingDomain:_.reportingDomain,children:(0,t.jsxs)("div",{className:p().layout,children:[(0,t.jsx)(r.Y,{providerName:m.provider.providerName,snapshotDate:m.provider.asOf,status:m.provider.prsState,topicCatalogVersion:_.topicCatalogVersion,prsLogicVersion:_.prsLogicVersion,topicsCompleted:m.topicsCompleted,totalTopics:m.totalTopics}),(0,t.jsxs)("main",{className:p().main,children:[(0,t.jsx)(c.m,{title:"Audit Trail",subtitle:"".concat(_.totalCount," audit events"),topicCatalogVersion:_.topicCatalogVersion,topicCatalogHash:_.topicCatalogHash,prsLogicVersion:_.prsLogicVersion,prsLogicHash:_.prsLogicHash,snapshotTimestamp:_.snapshotTimestamp,domain:_.domain,reportingDomain:_.reportingDomain}),(0,t.jsx)(o.V,{summary:(0,t.jsxs)("div",{className:p().integrity,children:[(0,t.jsx)("h2",{className:p().integrityTitle,children:"Hash Chain Integrity"}),(0,t.jsx)("p",{className:p().integrityDescription,children:"All audit events are linked via cryptographic hashes. Each event includes the hash of the previous event, forming an immutable chain. Any tampering with historical events will break the chain and be detected."})]}),evidence:(0,t.jsx)("div",{className:p().auditList,children:0===_.events.length?(0,t.jsx)("div",{className:p().empty,children:"No audit events found"}):_.events.map((e,a)=>(0,t.jsxs)("div",{className:p().auditCard,children:[(0,t.jsxs)("div",{className:p().auditHeader,children:[(0,t.jsxs)("span",{className:p().eventNumber,children:["#",a+1]}),(0,t.jsx)("span",{className:p().eventType,children:e.eventType}),(0,t.jsx)("span",{className:p().timestamp,children:new Date(e.timestamp).toLocaleString()})]}),(0,t.jsxs)("dl",{className:p().auditMeta,children:[(0,t.jsx)("dt",{children:"Event ID"}),(0,t.jsx)("dd",{children:e.eventId}),(0,t.jsx)("dt",{children:"User ID"}),(0,t.jsx)("dd",{children:e.userId}),(0,t.jsx)("dt",{children:"Payload Hash"}),(0,t.jsx)("dd",{className:p().hash,children:e.payloadHash}),e.previousEventHash&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("dt",{children:"Previous Event Hash"}),(0,t.jsx)("dd",{className:p().hash,children:e.previousEventHash})]}),(0,t.jsx)("dt",{children:"Event Hash"}),(0,t.jsx)("dd",{className:p().hash,children:e.eventHash})]}),e.previousEventHash&&(0,t.jsx)("div",{className:p().chainIndicator,children:"← Chained to previous event"})]},e.eventId))}),trace:(0,t.jsx)(l.I,{topicCatalogVersion:_.topicCatalogVersion,topicCatalogHash:_.topicCatalogHash,prsLogicVersion:_.prsLogicVersion,prsLogicHash:_.prsLogicHash,snapshotTimestamp:_.snapshotTimestamp,domain:_.domain,reportingDomain:_.reportingDomain})})]})]})}):(0,t.jsx)("div",{className:p().layout,children:(0,t.jsxs)("div",{className:p().error,children:["Error: ",y||"Failed to load data"]})})}},3436:function(e,a,i){"use strict";i.d(a,{V:function(){return c}});var t=i(6969),s=i(5645),n=i(2968),r=i.n(n);function c(e){var a,i,n,c,o;let{summary:l,evidence:d,trace:u,labels:h,actions:m}=e,[p,v]=(0,s.useState)("summary"),_=null!==(a=null==h?void 0:h.summary)&&void 0!==a?a:"Summary",g=null!==(i=null==h?void 0:h.evidence)&&void 0!==i?i:"Evidence",x=null!==(n=null==h?void 0:h.trace)&&void 0!==n?n:"Trace",j=null!==(c=null==m?void 0:m.showEvidence)&&void 0!==c?c:"Show Evidence →",y=null!==(o=null==m?void 0:m.showTrace)&&void 0!==o?o:"Show Trace →";return(0,t.jsxs)("div",{className:r().container,children:[(0,t.jsxs)("div",{className:r().tabs,children:[(0,t.jsx)("button",{className:"summary"===p?r().tabActive:r().tab,onClick:()=>v("summary"),children:_}),(0,t.jsx)("button",{className:"evidence"===p?r().tabActive:r().tab,onClick:()=>v("evidence"),disabled:"summary"===p,children:g}),(0,t.jsx)("button",{className:"trace"===p?r().tabActive:r().tab,onClick:()=>v("trace"),disabled:"trace"!==p,children:x})]}),(0,t.jsxs)("div",{className:r().content,children:["summary"===p&&(0,t.jsxs)("div",{className:r().layer,children:[l,(0,t.jsx)("button",{className:r().actionButton,onClick:()=>v("evidence"),children:j})]}),"evidence"===p&&(0,t.jsxs)("div",{className:r().layer,children:[d,(0,t.jsx)("button",{className:r().actionButton,onClick:()=>v("trace"),children:y})]}),"trace"===p&&(0,t.jsx)("div",{className:r().layer,children:u})]})]})}},2074:function(e,a,i){"use strict";i.d(a,{q:function(){return u}});var t=i(6969),s=i(1478),n=i(3924),r=i(7186),c=i.n(r);function o(){return(0,t.jsx)("div",{className:c().watermark,"aria-hidden":"true",children:n.tx})}var l=i(6375),d=i.n(l);function u(e){let{origin:a,reportingDomain:i,children:n}=e,r=(0,s.Eb)({origin:a,reportingDomain:i});return r?(0,t.jsxs)("div",{className:d().frame,style:{borderColor:r.borderColor,borderWidth:r.borderWidth},children:[(0,t.jsx)(o,{}),n]}):(0,t.jsx)(t.Fragment,{children:n})}},5698:function(e){e.exports={layout:"page_layout__yTFn9",main:"page_main__vHubX",auditList:"page_auditList__yujaA",auditCard:"page_auditCard__daX3n",auditHeader:"page_auditHeader__TaQPb",eventNumber:"page_eventNumber__U6syg",eventType:"page_eventType__L5Dcc",timestamp:"page_timestamp__K4BZc",auditMeta:"page_auditMeta__6iFS9",hash:"page_hash__JEOlO",chainIndicator:"page_chainIndicator__O_n8x",integrity:"page_integrity__RPM5n",integrityTitle:"page_integrityTitle__McSua",integrityDescription:"page_integrityDescription__bgATR",empty:"page_empty__B9c7w",loading:"page_loading__j0U_3",error:"page_error__T8H_u"}},2968:function(e){e.exports={container:"DisclosurePanel_container__OSi_X",tabs:"DisclosurePanel_tabs__gWkna",tab:"DisclosurePanel_tab__9h3XA",tabActive:"DisclosurePanel_tabActive__r9vRK DisclosurePanel_tab__9h3XA",content:"DisclosurePanel_content__hWuMj",layer:"DisclosurePanel_layer__1l2ax",actionButton:"DisclosurePanel_actionButton__PTiss"}},6375:function(e){e.exports={frame:"SimulationFrame_frame__xGjXh"}},7186:function(e){e.exports={watermark:"SimulationWatermark_watermark__tdBPL"}}},function(e){e.O(0,[357,33,365,939,325,744],function(){return e(e.s=5521)}),_N_E=e.O()}]);